function initAnalyticsConfig(a){lsGet("analytics",function(b){var c=b?!0:!1;a.setTrackingPermitted(c)})}function analyticsEvent(a){service=analytics.getService("overtab.com"),service.getConfig().addCallback(initAnalyticsConfig),tracker=service.getTracker("UA-51085352-1"),tracker.sendAppView(a)}function rangeConstrict(a){var b=1,c=61,d=1,e=1638,f=(a-b)/(c-b),g=f*(e-d)+d;return g+=.618033988749895,Math.abs(Math.round(g%=c))}var service,tracker;Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},Array.prototype.remove=function(a){return this.splice(a,1)},Array.prototype.add=function(a,b){if(!b)throw"Trying to add a null variable to array. -oops";return this.splice(a,0,b)},Array.prototype.hasValue=function(a){return-1===this.indexOf(a)?!1:!0},Array.prototype.removeValue=function(a){var b=this.indexOf(a);return-1===b?!1:this.remove(b)},Array.prototype.getByValue=function(a){var b=this.indexOf(a);return-1!==b?this[b]:!1},Array.prototype.getByValueProperty=function(a,b){for(var c=0;c<this.length;c++)if(this[c]&&this[c].hasOwnProperty(a)&&this[c][a]==b)return this[c];return!1},Array.prototype.hasValueProperty=function(a,b){return this.getByValueProperty(a,b)===!1?!1:!0},Array.prototype.valuePropertyIndex=function(a,b){for(var c=0;c<this.length;c++)if(this[c]&&this[c].hasOwnProperty(a)&&this[c][a]===b)return c;return!1},Array.prototype.intAverage=function(){for(var a=0,b=0,c=0;c<this.length;c++)"number"==typeof this[c]&&(b++,a+=this[c]);return Math.round(a/b)};var DISALLOWED_SCREENCAP_URLS=["chrome://newtab/"],ALLOWED_PROTOCOLS=["file:","http:","https:","chrome:"],Parser=function(){this.parser=document.createElement("a")};Parser.prototype={href:function(a){return this.parser.href=a,this},protocol:function(){return this.parser.protocol},hostname:function(){return this.parser.hostname},port:function(){return this.parser.port},pathname:function(){return this.parser.pathname},search:function(){return this.parser.search},hash:function(){return this.parser.hash},host:function(){return this.parser.host}};var stringToInt=function(a){for(var b=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d=a.toUpperCase(),e=0;e<d.length;e++)b+=c.indexOf(d[e]);return b},options=[{name:"opener",type:"radio"},{name:"analytics",type:"checkbox"}],getTabCount=function(a){tabsQuery({},function(b){for(var c=0,d=0;d<b.length;d++)isVerifiedTabUrl(b[d])&&c++;a(c)})},isVerifiedTabUrl=function(a){if(a.hasOwnProperty("url")){{var b=new Parser,c=b.href(a.url).protocol();b.href(a.url).hostname()}if(a.hasOwnProperty("id")&&-1!==ALLOWED_PROTOCOLS.indexOf(c)&&!isExtensionUrl(a.url))return!0}return!1},isExtensionUrl=function(a){return a==extensionUrl("index.html")||a==extensionUrl("options.html")?!0:!1},extensionUrl=function(a){return chrome.extension.getURL(a)},tabQuery=function(a,b){chrome.tabs.query(a,function(a){var c=[],d=0;do a[d]&&a[d].id&&c.push(a[d]),d++;while(d<a.length&&!isVerifiedTabUrl(a[d]));b(c.length>0?c[0]:!1)})},tabsQuery=function(a,b){return chrome.tabs.query(a,b)},getTab=function(a,b){return chrome.tabs.get(a,b)},tabFocus=function(a,b,c){chrome.windows.update(b,{focused:!0},function(){chrome.tabs.update(a,{active:!0},function(){c&&tabEvent(c,"overtab")})})},tabEvent=function(a,b){sendMessage(null,{message:b,id:a})},sendMessage=function(a,b,c){return chrome.runtime.sendMessage(a,b,c)},lsGet=function(a,b){chrome.storage.local.get(String(a),b)},lsSet=function(a,b){chrome.storage.local.set(a,b),a=void 0},lsRemove=function(a,b){if("function"==typeof b){var c=String(a);chrome.storage.local.remove([c,"screencap-"+c,"screencap-url-"+c],b)}},chromeBadge=function(a){chrome.browserAction.setBadgeText({text:String(a)})},closeTab=function(a){chrome.tabs.remove(a,function(){})},getOvertabId=function(a){var b={url:extensionUrl("index.html")};tabQuery(b,function(b){a(b?b:!1)})},getMemory=function(){chrome.system.memory.getInfo(function(a){{var b=a.availableCapacity;a.capacity}21e6>b&&alert("about to run out of memory"),OVERTAB_TAB_ID&&chrome.processes.getProcessIdForTab(OVERTAB_TAB_ID,function(a){chrome.processes.getProcessInfo(a,!0,function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);b[0]})})})},calcDimensions=function(a,b){var c,d,e=THUMBSIZE/SCREEN_CROP_RATIO;return a>b?(c=e,d=e*(a/b)):(d=e,c=e*(b/a)),{height:Math.round(c),width:Math.round(d)}},processImage=function(a,b,c,d,e,f){var g=calcDimensions(d,e),h=document.createElement("canvas"),i=h.getContext("2d");if(c){var j=document.createElement("img");j.onload=function(){h.width=g.width,h.height=g.height,i.clearRect(0,0,g.width,g.height),i.drawImage(this,0,0,g.width,g.height);var c="screencap-"+a,d={};d[c]=h.toDataURL("jpeg",0),d["screencap-url-"+a]=b,lsSet(d,function(){tabEvent(a,"screencap"),f()}),d=void 0,i=void 0,h=void 0},j.src=c,j=null}c=void 0};!function(){var a,b=b||{},c=this,d=function(){},e=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},f=function(a){return"array"==e(a)},g=function(a){var b=e(a);return"array"==b||"object"==b&&"number"==typeof a.length},h=function(a){return"string"==typeof a},i=function(a){return"function"==e(a)},j=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},k=function(a){return a.call.apply(a.bind,arguments)},l=function(a,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}},m=function(){return m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:l,m.apply(null,arguments)},n=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.slice();return c.push.apply(c,arguments),a.apply(this,c)}},o=Date.now||function(){return+new Date},p=function(a,b){var d=a.split("."),e=c;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===b?e=e[f]?e[f]:e[f]={}:e[f]=b},q=function(a,b){function c(){}c.prototype=b.prototype,a.J=b.prototype,a.prototype=new c,a.ic=function(a,c){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a){if(1<arguments.length){var b=Array.prototype.slice.call(arguments,1);return b.unshift(this,a),m.apply(null,b)}return m(this,a)};var r=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(r,Error),r.prototype.name="CustomError";var s=function(a,b){return b>a?-1:a>b?1:0},t=Array.prototype,u=t.indexOf?function(a,b,c){return t.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,h(a))return h(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},v=t.forEach?function(a,b,c){t.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},w=t.some?function(a,b,c){return t.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;d>f;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},x=function(a){var b;a:{b=Id;for(var c=a.length,d=h(a)?a.split(""):a,e=0;c>e;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:h(a)?a.charAt(b):a[b]},y=function(a,b){var c,d=u(a,b);return(c=d>=0)&&t.splice.call(a,d,1),c},z=function(){return t.concat.apply(t,arguments)},A=function(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]},B="StopIteration"in c?c.StopIteration:Error("StopIteration"),C=function(){};C.prototype.next=function(){throw B},C.prototype.Tb=function(){return this};var D=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},E=function(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c},F=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},G=function(a,b){var c;a:{for(c in a)if(b.call(void 0,a[c],c,a))break a;c=void 0}return c&&a[c]},H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),I=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<H.length;e++)b=H[e],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}},J=function(a){this.o={},this.b=[],this.ea=this.g=0;var b=arguments.length;if(b>1){if(b%2)throw Error("Uneven number of arguments");for(var c=0;b>c;c+=2)this.set(arguments[c],arguments[c+1])}else a&&this.Aa(a)};J.prototype.q=function(){K(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.o[this.b[b]]);return a},J.prototype.C=function(){return K(this),this.b.concat()},J.prototype.Q=function(a){return L(this.o,a)},J.prototype.remove=function(a){return L(this.o,a)?(delete this.o[a],this.g--,this.ea++,this.b.length>2*this.g&&K(this),!0):!1};var K=function(a){if(a.g!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];L(a.o,d)&&(a.b[c++]=d),b++}a.b.length=c}if(a.g!=a.b.length){for(var e={},c=b=0;b<a.b.length;)d=a.b[b],L(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}};a=J.prototype,a.get=function(a,b){return L(this.o,a)?this.o[a]:b},a.set=function(a,b){L(this.o,a)||(this.g++,this.b.push(a),this.ea++),this.o[a]=b},a.Aa=function(a){var b;a instanceof J?(b=a.C(),a=a.q()):(b=F(a),a=E(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])},a.B=function(){return new J(this)},a.jb=function(){K(this);for(var a={},b=0;b<this.b.length;b++){var c=this.b[b];a[c]=this.o[c]}return a},a.Tb=function(a){K(this);var b=0,c=this.b,d=this.o,e=this.ea,f=this,g=new C;return g.next=function(){for(;;){if(e!=f.ea)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw B;var g=c[b++];return a?g:d[g]}},g};var L=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},M={id:"hitType",name:"t",valueType:"text",maxLength:void 0,defaultValue:void 0},N={id:"sessionControl",name:"sc",valueType:"text",maxLength:void 0,defaultValue:void 0},O={id:"description",name:"cd",valueType:"text",maxLength:2048,defaultValue:void 0},P={Jc:M,jc:{id:"anonymizeIp",name:"aip",valueType:"boolean",maxLength:void 0,defaultValue:void 0},Vc:{id:"queueTime",name:"qt",valueType:"integer",maxLength:void 0,defaultValue:void 0},pc:{id:"cacheBuster",name:"z",valueType:"text",maxLength:void 0,defaultValue:void 0},$c:N,Sc:{id:"nonInteraction",name:"ni",valueType:"boolean",maxLength:void 0,defaultValue:void 0},zc:O,jd:{id:"title",name:"dt",valueType:"text",maxLength:1500,defaultValue:void 0},Ac:{id:"dimension",name:"cd[1-9][0-9]*",valueType:"text",maxLength:150,defaultValue:void 0},Rc:{id:"metric",name:"cm[1-9][0-9]*",valueType:"integer",maxLength:void 0,defaultValue:void 0},lc:{id:"appId",name:"aid",valueType:"text",maxLength:150,defaultValue:void 0},mc:{id:"appInstallerId",name:"aiid",valueType:"text",maxLength:150,defaultValue:void 0},Dc:{id:"eventCategory",name:"ec",valueType:"text",maxLength:150,defaultValue:void 0},Cc:{id:"eventAction",name:"ea",valueType:"text",maxLength:500,defaultValue:void 0},Ec:{id:"eventLabel",name:"el",valueType:"text",maxLength:500,defaultValue:void 0},Fc:{id:"eventValue",name:"ev",valueType:"integer",maxLength:void 0,defaultValue:void 0},bd:{id:"socialNetwork",name:"sn",valueType:"text",maxLength:50,defaultValue:void 0},ad:{id:"socialAction",name:"sa",valueType:"text",maxLength:50,defaultValue:void 0},cd:{id:"socialTarget",name:"st",valueType:"text",maxLength:2048,defaultValue:void 0},md:{id:"transactionId",name:"ti",valueType:"text",maxLength:500,defaultValue:void 0},ld:{id:"transactionAffiliation",name:"ta",valueType:"text",maxLength:500,defaultValue:void 0},nd:{id:"transactionRevenue",name:"tr",valueType:"currency",maxLength:void 0,defaultValue:void 0},od:{id:"transactionShipping",name:"ts",valueType:"currency",maxLength:void 0,defaultValue:void 0},pd:{id:"transactionTax",name:"tt",valueType:"currency",maxLength:void 0,defaultValue:void 0},xc:{id:"currencyCode",name:"cu",valueType:"text",maxLength:10,defaultValue:void 0},Nc:{id:"itemPrice",name:"ip",valueType:"currency",maxLength:void 0,defaultValue:void 0},Oc:{id:"itemQuantity",name:"iq",valueType:"integer",maxLength:void 0,defaultValue:void 0},Lc:{id:"itemCode",name:"ic",valueType:"text",maxLength:500,defaultValue:void 0},Mc:{id:"itemName",name:"in",valueType:"text",maxLength:500,defaultValue:void 0},Kc:{id:"itemCategory",name:"iv",valueType:"text",maxLength:500,defaultValue:void 0},vc:{id:"campaignSource",name:"cs",valueType:"text",maxLength:100,defaultValue:void 0},tc:{id:"campaignMedium",name:"cm",valueType:"text",maxLength:50,defaultValue:void 0},uc:{id:"campaignName",name:"cn",valueType:"text",maxLength:100,defaultValue:void 0},sc:{id:"campaignKeyword",name:"ck",valueType:"text",maxLength:500,defaultValue:void 0},qc:{id:"campaignContent",name:"cc",valueType:"text",maxLength:500,defaultValue:void 0},rc:{id:"campaignId",name:"ci",valueType:"text",maxLength:100,defaultValue:void 0},Ic:{id:"gclid",name:"gclid",valueType:"text",maxLength:void 0,defaultValue:void 0},yc:{id:"dclid",name:"dclid",valueType:"text",maxLength:void 0,defaultValue:void 0},Uc:{id:"pageLoadTime",name:"plt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Bc:{id:"dnsTime",name:"dns",valueType:"integer",maxLength:void 0,defaultValue:void 0},dd:{id:"tcpConnectTime",name:"tcp",valueType:"integer",maxLength:void 0,defaultValue:void 0},Zc:{id:"serverResponseTime",name:"srt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Tc:{id:"pageDownloadTime",name:"pdt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Wc:{id:"redirectResponseTime",name:"rrt",valueType:"integer",maxLength:void 0,defaultValue:void 0},ed:{id:"timingCategory",name:"utc",valueType:"text",maxLength:150,defaultValue:void 0},hd:{id:"timingVar",name:"utv",valueType:"text",maxLength:500,defaultValue:void 0},gd:{id:"timingValue",name:"utt",valueType:"integer",maxLength:void 0,defaultValue:void 0},fd:{id:"timingLabel",name:"utl",valueType:"text",maxLength:500,defaultValue:void 0},Gc:{id:"exDescription",name:"exd",valueType:"text",maxLength:150,defaultValue:void 0},Hc:{id:"exFatal",name:"exf",valueType:"boolean",maxLength:void 0,defaultValue:"1"}},Q=function(a,b){this.width=a,this.height=b};Q.prototype.B=function(){return new Q(this.width,this.height)},Q.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this};var R,S,T,U,V=function(){return c.navigator?c.navigator.userAgent:null};U=T=S=R=!1;var W;if(W=V()){var X=c.navigator;R=0==W.lastIndexOf("Opera",0),S=!R&&(-1!=W.indexOf("MSIE")||-1!=W.indexOf("Trident")),T=!R&&-1!=W.indexOf("WebKit"),U=!R&&!T&&!S&&"Gecko"==X.product}var Y,Z=R,$=S,_=U,ab=T,bb=function(){var a=c.document;return a?a.documentMode:void 0};a:{var cb,db="";if(Z&&c.opera)var eb=c.opera.version,db="function"==typeof eb?eb():eb;else if(_?cb=/rv\:([^\);]+)(\)|;)/:$?cb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ab&&(cb=/WebKit\/(\S+)/),cb)var fb=cb.exec(V()),db=fb?fb[1]:"";if($){var gb=bb();if(gb>parseFloat(db)){Y=String(gb);break a}}Y=db}var hb=Y,ib={},jb=function(a){var b;if(!(b=ib[a])){b=0;for(var c=String(hb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=RegExp("(\\d*)(\\D*)","g"),j=RegExp("(\\d*)(\\D*)","g");do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=s(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||s(0==k[2].length,0==l[2].length)||s(k[2],l[2])}while(0==b)}b=ib[a]=b>=0}return b},kb=c.document,lb=kb&&$?bb()||("CSS1Compat"==kb.compatMode?parseInt(hb,10):5):void 0;!_&&!$||$&&$&&lb>=9||_&&jb("1.9.1"),$&&jb("9");var mb=function(){};mb.prototype.Ga=!1,mb.prototype.na=function(){this.Ga||(this.Ga=!0,this.j())},mb.prototype.j=function(){if(this.ob)for(;this.ob.length;)this.ob.shift()()};var nb=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.N=!1,this.Ra=!0};nb.prototype.j=function(){},nb.prototype.na=function(){},nb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Ra=!1};var ob=function(a){return ob[" "](a),a};ob[" "]=d;var pb=!$||$&&lb>=9,qb=$&&!jb("9"),rb=!ab||jb("528"),sb=_&&jb("1.9b")||$&&jb("8")||Z&&jb("9.5")||ab&&jb("528"),tb=_&&!jb("8")||$&&!jb("9"),ub=function(a,b){if(nb.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.ib=this.state=null,a){var c=this.type=a.type;this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(_){var e;a:{try{ob(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=ab||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=ab||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.ib=a,a.defaultPrevented&&this.preventDefault()}};q(ub,nb),ub.prototype.preventDefault=function(){ub.J.preventDefault.call(this);var a=this.ib;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qb)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}},ub.prototype.j=function(){};var vb="closure_listenable_"+(1e6*Math.random()|0),wb=function(a){try{return!(!a||!a[vb])}catch(b){return!1}},xb=0,yb=function(a,b,c,d,e){this.H=a,this.proxy=null,this.src=b,this.type=c,this.fa=!!d,this.ha=e,this.key=++xb,this.removed=this.ga=!1},zb=function(a){a.removed=!0,a.H=null,a.proxy=null,a.src=null,a.ha=null},Ab=function(a){this.src=a,this.h={},this.S=0};Ab.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f],a||(a=this.h[f]=[],this.S++);var g=Cb(a,b,d,e);return g>-1?(b=a[g],c||(b.ga=!1)):(b=new yb(b,this.src,f,!!d,e),b.ga=c,a.push(b)),b},Ab.prototype.remove=function(a,b,c,d){if(a=a.toString(),!(a in this.h))return!1;var e=this.h[a];return b=Cb(e,b,c,d),b>-1?(zb(e[b]),t.splice.call(e,b,1),0==e.length&&(delete this.h[a],this.S--),!0):!1};var Bb=function(a,b){var c=b.type;if(!(c in a.h))return!1;var d=y(a.h[c],b);return d&&(zb(b),0==a.h[c].length&&(delete a.h[c],a.S--)),d};Ab.prototype.removeAll=function(a){a=a&&a.toString();var b,c=0;for(b in this.h)if(!a||b==a){for(var d=this.h[b],e=0;e<d.length;e++)++c,zb(d[e]);delete this.h[b],this.S--}return c},Ab.prototype.R=function(a,b,c,d){a=this.h[a.toString()];var e=-1;return a&&(e=Cb(a,b,c,d)),e>-1?a[e]:null};var Cb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.H==b&&f.fa==!!c&&f.ha==d)return e}return-1},Db="closure_lm_"+(1e6*Math.random()|0),Eb={},Fb=0,Gb=function(a,b,c,d,e){if(f(b)){for(var g=0;g<b.length;g++)Gb(a,b[g],c,d,e);return null}return c=Sb(c),wb(a)?a.listen(b,c,d,e):Hb(a,b,c,!1,d,e)},Hb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Qb(a);return h||(a[Db]=h=new Ab(a)),c=h.add(b,c,d,e,f),c.proxy?c:(d=Ib(),c.proxy=d,d.src=a,d.H=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Mb(b.toString()),d),Fb++,c)},Ib=function(){var a=Pb,b=pb?function(c){return a.call(b.src,b.H,c)}:function(c){return c=a.call(b.src,b.H,c),c?void 0:c};return b},Jb=function(a,b,c,d,e){if(f(b)){for(var g=0;g<b.length;g++)Jb(a,b[g],c,d,e);return null}return c=Sb(c),wb(a)?a.Ja(b,c,d,e):Hb(a,b,c,!0,d,e)},Kb=function(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)Kb(a,b[g],c,d,e);else c=Sb(c),wb(a)?a.Fa(b,c,d,e):a&&(a=Qb(a))&&(b=a.R(b,c,!!d,e))&&Lb(b)},Lb=function(a){if("number"==typeof a||!a||a.removed)return!1;var b=a.src;if(wb(b))return Bb(b.t,a);var c=a.type,d=a.proxy;return b.removeEventListener?b.removeEventListener(c,d,a.fa):b.detachEvent&&b.detachEvent(Mb(c),d),Fb--,(c=Qb(b))?(Bb(c,a),0==c.S&&(c.src=null,b[Db]=null)):zb(a),!0},Mb=function(a){return a in Eb?Eb[a]:Eb[a]="on"+a},Nb=function(a,b,c,d){var e=1;if((a=Qb(a))&&(b=a.h[b.toString()]))for(b=A(b),a=0;a<b.length;a++){var f=b[a];f&&f.fa==c&&!f.removed&&(e&=!1!==Ob(f,d))}return Boolean(e)},Ob=function(a,b){var c=a.H,d=a.ha||a.src;return a.ga&&Lb(a),c.call(d,b)},Pb=function(a,b){if(a.removed)return!0;if(!pb){var d;if(!(d=b))a:{d=["window","event"];for(var e,f=c;e=d.shift();){if(null==f[e]){d=null;break a}f=f[e]}d=f}if(e=d,d=new ub(e,this),f=!0,!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){g=!0}(g||void 0==e.returnValue)&&(e.returnValue=!0)}for(e=[],g=d.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,i=e.length-1;!d.N&&i>=0;i--)d.currentTarget=e[i],f&=Nb(e[i],g,!0,d);for(i=0;!d.N&&i<e.length;i++)d.currentTarget=e[i],f&=Nb(e[i],g,!1,d)}return f}return Ob(a,new ub(b,this))},Qb=function(a){return a=a[Db],a instanceof Ab?a:null},Rb="__closure_events_fn_"+(1e9*Math.random()>>>0),Sb=function(a){return i(a)?a:a[Rb]||(a[Rb]=function(b){return a.handleEvent(b)})},Tb=function(){this.t=new Ab(this),this.Cb=this};q(Tb,mb),Tb.prototype[vb]=!0,a=Tb.prototype,a.Da=null,a.addEventListener=function(a,b,c,d){Gb(this,a,b,c,d)},a.removeEventListener=function(a,b,c,d){Kb(this,a,b,c,d)},a.dispatchEvent=function(a){var b,c=this.Da;if(c){b=[];for(var d=1;c;c=c.Da)b.push(c),++d}if(c=this.Cb,d=a.type||a,h(a))a=new nb(a,c);else if(a instanceof nb)a.target=a.target||c;else{var e=a;a=new nb(d,c),I(a,e)}var f,e=!0;if(b)for(var g=b.length-1;!a.N&&g>=0;g--)f=a.currentTarget=b[g],e=Ub(f,d,!0,a)&&e;if(a.N||(f=a.currentTarget=c,e=Ub(f,d,!0,a)&&e,a.N||(e=Ub(f,d,!1,a)&&e)),b)for(g=0;!a.N&&g<b.length;g++)f=a.currentTarget=b[g],e=Ub(f,d,!1,a)&&e;return e},a.j=function(){Tb.J.j.call(this),this.t&&this.t.removeAll(void 0),this.Da=null},a.listen=function(a,b,c,d){return this.t.add(String(a),b,!1,c,d)},a.Ja=function(a,b,c,d){return this.t.add(String(a),b,!0,c,d)},a.Fa=function(a,b,c,d){return this.t.remove(String(a),b,c,d)};var Ub=function(a,b,c,d){if(b=a.t.h[String(b)],!b)return!0;b=A(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.fa==c){var h=g.H,i=g.ha||g.src;g.ga&&Bb(a.t,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.Ra};Tb.prototype.R=function(a,b,c,d){return this.t.R(String(a),b,c,d)};var Vb=function(a,b){Tb.call(this),this.oa=a||1,this.L=b||c,this.Ba=m(this.Db,this),this.Ca=o()};q(Vb,Tb),a=Vb.prototype,a.enabled=!1,a.e=null,a.Db=function(){if(this.enabled){var a=o()-this.Ca;a>0&&a<.8*this.oa?this.e=this.L.setTimeout(this.Ba,this.oa-a):(this.e&&(this.L.clearTimeout(this.e),this.e=null),this.dispatchEvent("tick"),this.enabled&&(this.e=this.L.setTimeout(this.Ba,this.oa),this.Ca=o()))}},a.start=function(){this.enabled=!0,this.e||(this.e=this.L.setTimeout(this.Ba,this.oa),this.Ca=o())},a.stop=function(){this.enabled=!1,this.e&&(this.L.clearTimeout(this.e),this.e=null)},a.j=function(){Vb.J.j.call(this),this.stop(),delete this.L};var Wb=function(a,b,d){if(i(a))d&&(a=m(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=m(a.handleEvent,a)}return b>2147483647?-1:c.setTimeout(a,b||0)},Xb=function(a){this.Ea=a,this.b={}};q(Xb,mb);var Yb=[];Xb.prototype.listen=function(a,b,c,d){f(b)||(Yb[0]=b,b=Yb);for(var e=0;e<b.length;e++){var g=Gb(a,b[e],c||this.handleEvent,d||!1,this.Ea||this);if(!g)break;this.b[g.key]=g}return this},Xb.prototype.Ja=function(a,b,c,d){return Zb(this,a,b,c,d)};var Zb=function(a,b,c,d,e,g){if(f(c))for(var h=0;h<c.length;h++)Zb(a,b,c[h],d,e,g);else{if(b=Jb(b,c,d||a.handleEvent,e,g||a.Ea||a),!b)return a;a.b[b.key]=b}return a};Xb.prototype.Fa=function(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)this.Fa(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.Ea||this,c=Sb(c),d=!!d,b=wb(a)?a.R(b,c,d,e):a?(a=Qb(a))?a.R(b,c,d,e):null:null,b&&(Lb(b),delete this.b[b.key]);return this},Xb.prototype.removeAll=function(){D(this.b,Lb),this.b={}},Xb.prototype.j=function(){Xb.J.j.call(this),this.removeAll()},Xb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $b=function(){Tb.call(this),this.ia=new Xb(this),rb&&(sb?this.ia.listen(tb?document.body:window,["online","offline"],this.Wa):(this.Ya=rb?navigator.onLine:!0,this.e=new Vb(250),this.ia.listen(this.e,"tick",this.zb),this.e.start()))};q($b,Tb),$b.prototype.zb=function(){var a=rb?navigator.onLine:!0;a!=this.Ya&&(this.Ya=a,this.Wa())},$b.prototype.Wa=function(){this.dispatchEvent((rb?navigator.onLine:1)?"online":"offline")},$b.prototype.j=function(){$b.J.j.call(this),this.ia.na(),this.ia=null,this.e&&(this.e.na(),this.e=null)};var _b,ac=function(a){i(c.setImmediate)?c.setImmediate(a):(_b||(_b=bc()),_b(a))},bc=function(){var a=c.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=m(function(a){(a.origin==d||a.data==c)&&this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a){var b=new a,d={},e=d;return b.port1.onmessage=function(){d=d.next;var a=d.lb;d.lb=null,a()},function(a){e.next={lb:a},e=e.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){c.setTimeout(a,0)}},cc=function(a){ac(function(){throw a})},dc=function(a,b){ec||(ac(gc),ec=!0),fc.push(new hc(a,b))},ec=!1,fc=[],gc=function(){for(;fc.length;){var a=fc;fc=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Vb.call(c.scope)}catch(d){cc(d)}}}ec=!1},hc=function(a,b){this.Vb=a,this.scope=b},ic=function(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0},jc=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}},kc=function(a,b){this.k=0,this.r=void 0,this.l=this.m=null,this.ja=this.ya=!1;try{var c=this;a.call(b,function(a){oc(c,2,a)},function(a){oc(c,3,a)})}catch(d){oc(this,3,d)}};kc.prototype.then=function(a,b,c){return nc(this,i(a)?a:null,i(b)?b:null,c)},ic(kc),kc.prototype.cancel=function(a){0==this.k&&dc(function(){var b=new uc(a);lc(this,b)},this)};var lc=function(a,b){if(0==a.k)if(a.m){var c=a.m;if(c.l){for(var d,e=0,f=-1,g=0;(d=c.l[g])&&!((d=d.la)&&(e++,d==a&&(f=g),f>=0&&e>1));g++);f>=0&&(0==c.k&&1==e?lc(c,b):(e=c.l.splice(f,1)[0],rc(c),e.za(b)))}}else oc(a,3,b)},mc=function(a,b){a.l&&a.l.length||2!=a.k&&3!=a.k||qc(a),a.l||(a.l=[]),a.l.push(b)},nc=function(a,b,c,d){var e={la:null,Qa:null,za:null};return e.la=new kc(function(a,f){e.Qa=b?function(c){try{var e=b.call(d,c);a(e)}catch(g){f(g)}}:a,e.za=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof uc?f(b):a(e)}catch(g){f(g)}}:f}),e.la.m=a,mc(a,e),e.la};kc.prototype.Za=function(a){this.k=0,oc(this,2,a)},kc.prototype.$a=function(a){this.k=0,oc(this,3,a)};var oc=function(a,b,c){if(0==a.k){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(jc(c))return a.k=1,void c.then(a.Za,a.$a,a);if(j(c))try{var d=c.then;if(i(d))return void pc(a,c,d)}catch(e){b=3,c=e}}a.r=c,a.k=b,qc(a),3!=b||c instanceof uc||sc(a,c)}},pc=function(a,b,c){a.k=1;var d=!1,e=function(b){d||(d=!0,a.Za(b))},f=function(b){d||(d=!0,a.$a(b))};try{c.call(b,e,f)}catch(g){f(g)}},qc=function(a){a.ya||(a.ya=!0,dc(a.Rb,a))};kc.prototype.Rb=function(){for(;this.l&&this.l.length;){var a=this.l;this.l=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.r;2==this.k?c.Qa(d):(rc(this),c.za(d))}}this.ya=!1};var rc=function(a){for(;a&&a.ja;a=a.m)a.ja=!1},sc=function(a,b){a.ja=!0,dc(function(){a.ja&&tc.call(null,b)})},tc=cc,uc=function(a){r.call(this,a)};q(uc,r),uc.prototype.name="cancel";var vc=function(a,b){this.ba=[],this.Oa=a,this.Na=b||null,this.O=this.K=!1,this.r=void 0,this.wa=this.qb=this.va=!1,this.ca=0,this.m=null,this.ua=0};vc.prototype.cancel=function(a){if(this.K)this.r instanceof vc&&this.r.cancel();else{if(this.m){var b=this.m;delete this.m,a?b.cancel(a):(b.ua--,0>=b.ua&&b.cancel())}this.Oa?this.Oa.call(this.Na,this):this.wa=!0,this.K||this.A(new Gc)}},vc.prototype.Pa=function(a,b){this.va=!1,wc(this,a,b)};var wc=function(a,b,c){a.K=!0,a.r=c,a.O=!b,Cc(a)},xc=function(a){if(a.K){if(!a.wa)throw new Fc;a.wa=!1}};vc.prototype.G=function(a){xc(this),wc(this,!0,a)},vc.prototype.A=function(a){xc(this),wc(this,!1,a)},vc.prototype.Ub=function(a,b){return zc(this,a,null,b)};var yc=function(a,b,c){zc(a,b,b,c)},zc=function(a,b,c,d){return a.ba.push([b,c,d]),a.K&&Cc(a),a};vc.prototype.then=function(a,b,c){var d,e,f=new kc(function(a,b){d=a,e=b});return zc(this,d,function(a){a instanceof Gc?f.cancel():e(a)}),f.then(a,b,c)},ic(vc);var Ac=function(a){var b=new vc;return zc(a,b.G,b.A,b),b},Bc=function(a){return w(a.ba,function(a){return i(a[1])})},Cc=function(a){if(a.ca&&a.K&&Bc(a)){var b=a.ca,d=Ic[b];d&&(c.clearTimeout(d.da),delete Ic[b]),a.ca=0}a.m&&(a.m.ua--,delete a.m);for(var b=a.r,e=d=!1;a.ba.length&&!a.va;){var f=a.ba.shift(),g=f[0],h=f[1],f=f[2];if(g=a.O?h:g)try{var i=g.call(f||a.Na,b);void 0!==i&&(a.O=a.O&&(i==b||i instanceof Error),a.r=b=i),jc(b)&&(e=!0,a.va=!0)}catch(j){b=j,a.O=!0,Bc(a)||(d=!0)}}a.r=b,e&&(i=m(a.Pa,a,!0),e=m(a.Pa,a,!1),b instanceof vc?(zc(b,i,e),b.qb=!0):b.then(i,e)),d&&(b=new Hc(b),Ic[b.da]=b,a.ca=b.da)},Dc=function(a){var b=new vc;return b.G(a),b},Ec=function(){var a=hd,b=new vc;return b.A(a),b},Fc=function(){r.call(this)};q(Fc,r),Fc.prototype.message="Deferred has already fired",Fc.prototype.name="AlreadyCalledError";var Gc=function(){r.call(this)};q(Gc,r),Gc.prototype.message="Deferred was canceled",Gc.prototype.name="CanceledError";var Hc=function(a){this.da=c.setTimeout(m(this.Nb,this),0),this.$=a};Hc.prototype.Nb=function(){throw delete Ic[this.da],this.$};var Ic={},Jc=function(){var a=Array.prototype.slice.call(arguments),b=a.shift();if("undefined"==typeof b)throw Error("[goog.string.format] Template required");return b.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(b,c,d,e,f,g){if("%"==g)return"%";var h=a.shift();if("undefined"==typeof h)throw Error("[goog.string.format] Not enough arguments");return arguments[0]=h,Kc[g].apply(null,arguments)})},Kc={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString(),isNaN(e)||""==e||(d=a.toFixed(e));var f;return f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"",a>=0&&(d=f+d),isNaN(c)||d.length>=c?d:(d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e),a=c-d.length-f.length,d=0<=b.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d)},d:function(a,b,c,d,e,f,g,h){return Kc.f(parseInt(a,10),b,c,d,0,f,g,h)}};Kc.i=Kc.d,Kc.u=Kc.d;var Lc=function(a){if("function"==typeof a.q)return a.q();if(h(a))return a.split("");if(g(a)){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a[d]);return b}return E(a)},Mc=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);
else if(g(a)||h(a))v(a,b,c);else{var d;if("function"==typeof a.C)d=a.C();else if("function"!=typeof a.q)if(g(a)||h(a)){d=[];for(var e=a.length,f=0;e>f;f++)d.push(f)}else d=F(a);else d=void 0;for(var e=Lc(a),f=e.length,i=0;f>i;i++)b.call(c,e[i],d&&d[i],a)}},Nc=function(){this.M=new J,this.Aa(arguments)};Nc.prototype.set=function(a,b){this.M.set(a.name,{key:a,value:b})},Nc.prototype.remove=function(a){this.M.remove(a.name)},Nc.prototype.get=function(a){return a=this.M.get(a.name,null),null===a?null:a.value},Nc.prototype.Aa=function(a){for(var b=0;b<a.length;b+=2)this.set(a[b],a[b+1])};var Oc=function(a,b){v(a.M.q(),function(a){b(a.key,a.value)})};Nc.prototype.jb=function(){var a={};return Oc(this,function(b,c){a[b.id]=c}),a},Nc.prototype.B=function(){var a=new Nc;return a.M=this.M.B(),a},Nc.prototype.toString=function(){var a={};return Oc(this,function(b,c){a[b.id]=c}),JSON.stringify(a)};var Pc={id:"apiVersion",name:"v",valueType:"text",maxLength:void 0,defaultValue:void 0},Qc={id:"appName",name:"an",valueType:"text",maxLength:100,defaultValue:void 0},Rc={id:"appVersion",name:"av",valueType:"text",maxLength:100,defaultValue:void 0},Sc={id:"clientId",name:"cid",valueType:"text",maxLength:void 0,defaultValue:void 0},Tc={id:"language",name:"ul",valueType:"text",maxLength:20,defaultValue:void 0},Uc={id:"libVersion",name:"_v",valueType:"text",maxLength:void 0,defaultValue:void 0},Vc={id:"screenColors",name:"sd",valueType:"text",maxLength:20,defaultValue:void 0},Wc={id:"screenResolution",name:"sr",valueType:"text",maxLength:20,defaultValue:void 0},Xc={id:"trackingId",name:"tid",valueType:"text",maxLength:void 0,defaultValue:void 0},Yc={id:"viewportSize",name:"vp",valueType:"text",maxLength:20,defaultValue:void 0},Zc={kc:Pc,nc:Qc,oc:Rc,wc:Sc,Pc:Tc,Qc:Uc,Xc:Vc,Yc:Wc,kd:Xc,qd:Yc},$c=function(a){if(!h(a))return a;var b=_c(a,P);if(j(b))return b;if(b=_c(a,Zc),j(b))return b;if(b=/^dimension(\d+)$/.exec(a),null!==b)return{id:a,name:"cd"+b[1],valueType:"text",maxLength:150,defaultValue:void 0};if(b=/^metric(\d+)$/.exec(a),null!==b)return{id:a,name:"cm"+b[1],valueType:"integer",maxLength:void 0,defaultValue:void 0};throw Error(a+" is not a valid parameter name.")},_c=function(a,b){var c=G(b,function(b){return b.id==a&&"metric"!=a&&"dimension"!=a});return j(c)?c:null},ad=function(a,b){this.n=a,this.v=b};ad.prototype.send=function(a,b){return b.set(Sc,this.n.xa),this.v.send(a,b)};var bd=function(){};bd.Lb=function(){return bd.nb?bd.nb:bd.nb=new bd},bd.prototype.send=function(){return Dc()};var cd=function(a,b){nb.call(this,"a"),this.Sb=a,this.Ob=b};q(cd,nb),cd.prototype.$b=function(){return this.Sb},cd.prototype.Zb=function(){return this.Ob.jb()};var dd=function(a,b){this.Ha=a,this.v=b};dd.prototype.send=function(a,b){return this.Ha.dispatchEvent(new cd(a,b)),this.v.send(a,b)};var ed=function(a){this.v=a};ed.prototype.send=function(a,b){return fd(b),gd(b),this.v.send(a,b)};var fd=function(a){Oc(a,function(b,c){void 0!==b.maxLength&&"text"==b.valueType&&0<b.maxLength&&c.length>b.maxLength&&a.set(b,c.substring(0,b.maxLength))})},gd=function(a){Oc(a,function(b,c){void 0!==b.defaultValue&&c==b.defaultValue&&a.remove(b)})},hd={status:"device-offline",pa:void 0},id={status:"rate-limited",pa:void 0},jd={status:"sampled-out",pa:void 0},kd={status:"sent",pa:void 0},ld=function(a,b){this.yb=a,this.v=b};ld.prototype.send=function(a,b){var c;c=this.yb;var d=c.Ua(),e=Math.floor((d-c.Ta)*c.vb);return e>0&&(c.T=Math.min(c.T+e,c.wb),c.Ta=d),1>c.T?c=!1:(c.T-=1,c=!0),c||"item"==a||"transaction"==a?this.v.send(a,b):Dc(id)};var md=function(a){this.Pb=a};md.prototype.send=function(a,b){return this.Pb.push({tb:a,ub:b}),Dc()};var nd=function(a,b,c){this.n=a,this.ka=[],this.I={enabled:new md(this.ka),disabled:c},this.P=this.I.enabled,zc(Ac(this.n.aa),n(this.sb,b),this.rb,this)};nd.prototype.sb=function(a){this.I.enabled=a(this.n),od(this),v(this.ka,function(a){this.send(a.tb,a.ub)},this),this.ka=null,Zd(this.n,m(this.xb,this))},nd.prototype.rb=function(){this.P=this.I.enabled=this.I.disabled,this.ka=null},nd.prototype.send=function(a,b){return this.P.send(a,b)};var od=function(a){a.P=a.n.ab()?a.I.enabled:a.I.disabled};nd.prototype.xb=function(a){switch(a){case"analytics.tracking-permitted":od(this)}};var pd=function(a,b){this.P=a,this.Ha=b,this.cb=new Nc,this.Ia=!1};a=pd.prototype,a.set=function(a,b){var c=$c(a);this.cb.set(c,b)},a.send=function(a,b){var c=this.cb.B();return b&&D(b,function(a,b){null!=a&&c.set($c(b),a)},this),this.Ia&&(this.Ia=!1,c.set(N,"start")),this.P.send(a,c)},a.bc=function(a){var b={description:a};return this.set(O,a),this.send("appview",b)},a.cc=function(a,b,c,d){return this.send("event",{eventCategory:a,eventAction:b,eventLabel:c,eventValue:d})},a.ec=function(a,b,c){return this.send("social",{socialNetwork:a,socialAction:b,socialTarget:c})},a.dc=function(a,b){return this.send("exception",{exDescription:a,exFatal:b})},a.hb=function(a,b,c,d){return this.send("timing",{timingCategory:a,timingVar:b,timingLabel:d,timingValue:c})},a.Wb=function(){this.Ia=!0},a.hc=function(a,b,c){return new qd(this,a,b,c)},a.Yb=function(){return this.Ha};var qd=function(a,b,c,d){this.eb=a,this.Gb=b,this.Kb=c,this.Hb=d,this.Jb=o()};qd.prototype.send=function(){var a=this.eb.hb(this.Gb,this.Kb,o()-this.Jb,this.Hb);return this.eb=null,a};var rd=function(){this.T=60,this.wb=500,this.vb=5e-4,this.Ua=function(){return(new Date).getTime()},this.Ta=this.Ua()},sd=function(a,b){this.n=a,this.v=b};sd.prototype.send=function(a,b){var c=b.get(Sc);return parseInt(c.split("-")[1],16)<655.36*this.n.Sa?this.v.send(a,b):Dc(jd)};var td=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),ud=ab,vd=function(a,b){if(ud){ud=!1;var d=c.location;if(d){var e=d.href;if(e&&(e=(e=vd(3,e))&&decodeURIComponent(e))&&e!=d.hostname)throw ud=!0,Error()}}return b.match(td)[a]||null},wd=function(){};wd.prototype.kb=null;var xd,yd=function(a){var b;return(b=a.kb)||(b={},Bd(a)&&(b[0]=!0,b[1]=!0),b=a.kb=b),b},zd=function(){};q(zd,wd);var Ad=function(a){return(a=Bd(a))?new ActiveXObject(a):new XMLHttpRequest},Bd=function(a){if(!a.mb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.mb=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.mb};xd=new zd;var Cd=function(a){Tb.call(this),this.headers=new J,this.Z=a||null,this.w=!1,this.W=this.a=null,this.V=this.ra="",this.D=this.qa=this.U=this.ta=!1,this.Y=0,this.X=null,this.Ka="",this.sa=this.pb=!1};q(Cd,Tb);var Dd=/^https?$/i,Ed=["POST","PUT"],Fd=[],Gd=function(a,b,c){var d=new Cd;Fd.push(d),b&&d.listen("complete",b),d.Ja("ready",d.Qb),d.send(a,"POST",c,void 0)};Cd.prototype.Qb=function(){this.na(),y(Fd,this)},Cd.prototype.send=function(a,b,d,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ra+"; newUri="+a);b=b?b.toUpperCase():"GET",this.ra=a,this.V="",this.ta=!1,this.w=!0,this.a=Ad(this.Z?this.Z:xd),this.W=yd(this.Z?this.Z:xd),this.a.onreadystatechange=m(this.La,this);try{this.qa=!0,this.a.open(b,String(a),!0),this.qa=!1}catch(f){return void this.$(5,f)}a=d||"";var g=this.headers.B();e&&Mc(e,function(a,b){g.set(b,a)}),e=x(g.C()),d=c.FormData&&a instanceof c.FormData,!(0<=u(Ed,b))||e||d||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Mc(g,function(a,b){this.a.setRequestHeader(b,a)},this),this.Ka&&(this.a.responseType=this.Ka),"withCredentials"in this.a&&(this.a.withCredentials=this.pb);try{Md(this),0<this.Y&&((this.sa=Hd(this.a))?(this.a.timeout=this.Y,this.a.ontimeout=m(this.Ma,this)):this.X=Wb(this.Ma,this.Y,this)),this.U=!0,this.a.send(a),this.U=!1}catch(h){this.$(5,h)}};var Hd=function(a){return $&&jb(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout},Id=function(a){return"content-type"==a.toLowerCase()};Cd.prototype.Ma=function(){"undefined"!=typeof b&&this.a&&(this.V="Timed out after "+this.Y+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))},Cd.prototype.$=function(a,b){this.w=!1,this.a&&(this.D=!0,this.a.abort(),this.D=!1),this.V=b,Jd(this),Ld(this)};var Jd=function(a){a.ta||(a.ta=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};Cd.prototype.abort=function(){this.a&&this.w&&(this.w=!1,this.D=!0,this.a.abort(),this.D=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ld(this))},Cd.prototype.j=function(){this.a&&(this.w&&(this.w=!1,this.D=!0,this.a.abort(),this.D=!1),Ld(this,!0)),Cd.J.j.call(this)},Cd.prototype.La=function(){this.Ga||(this.qa||this.U||this.D?Kd(this):this.Bb())},Cd.prototype.Bb=function(){Kd(this)};var Kd=function(a){if(a.w&&"undefined"!=typeof b&&(!a.W[1]||4!=Nd(a)||2!=Od(a)))if(a.U&&4==Nd(a))Wb(a.La,0,a);else if(a.dispatchEvent("readystatechange"),4==Nd(a)){a.w=!1;try{var c,d,e=Od(a);a:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var f;if(f=0===e){var g=vd(1,String(a.ra));if(!g&&self.location)var h=self.location.protocol,g=h.substr(0,h.length-1);f=!Dd.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var i;try{i=2<Nd(a)?a.a.statusText:""}catch(j){i=""}a.V=i+" ["+Od(a)+"]",Jd(a)}}finally{Ld(a)}}},Ld=function(a,b){if(a.a){Md(a);var c=a.a,e=a.W[0]?d:null;a.a=null,a.W=null,b||a.dispatchEvent("ready");try{c.onreadystatechange=e}catch(f){}}},Md=function(a){a.a&&a.sa&&(a.a.ontimeout=null),"number"==typeof a.X&&(c.clearTimeout(a.X),a.X=null)},Nd=function(a){return a.a?a.a.readyState:0},Od=function(a){try{return 2<Nd(a)?a.a.status:-1}catch(b){return-1}},Pd=function(a,b,c){this.p=a||null,this.Mb=!!c},Qd=function(a){if(!a.c&&(a.c=new J,a.g=0,a.p))for(var b=a.p.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;d>=0?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c],e=decodeURIComponent(e.replace(/\+/g," ")),e=Rd(a,e),a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}};a=Pd.prototype,a.c=null,a.g=null,a.add=function(a,b){Qd(this),this.p=null,a=Rd(this,a);var c=this.c.get(a);return c||this.c.set(a,c=[]),c.push(b),this.g++,this},a.remove=function(a){return Qd(this),a=Rd(this,a),this.c.Q(a)?(this.p=null,this.g-=this.c.get(a).length,this.c.remove(a)):!1},a.Q=function(a){return Qd(this),a=Rd(this,a),this.c.Q(a)},a.C=function(){Qd(this);for(var a=this.c.q(),b=this.c.C(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},a.q=function(a){Qd(this);var b=[];if(h(a))this.Q(a)&&(b=z(b,this.c.get(Rd(this,a))));else{a=this.c.q();for(var c=0;c<a.length;c++)b=z(b,a[c])}return b},a.set=function(a,b){return Qd(this),this.p=null,a=Rd(this,a),this.Q(a)&&(this.g-=this.c.get(a).length),this.c.set(a,[b]),this.g++,this},a.get=function(a,b){var c=a?this.q(a):[];return 0<c.length?String(c[0]):b},a.toString=function(){if(this.p)return this.p;if(!this.c)return"";for(var a=[],b=this.c.C(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.q(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.p=a.join("&")},a.B=function(){var a=new Pd;return a.p=this.p,this.c&&(a.c=this.c.B(),a.g=this.g),a};var Rd=function(a,b){var c=String(b);return a.Mb&&(c=c.toLowerCase()),c},Sd=function(a,b){this.Ab=a,this.bb=b};Sd.prototype.send=function(a,b){if(rb&&!navigator.onLine)return Ec();var c=new vc,d=Ud(a,b);return d.length>this.bb?c.A({status:"payload-too-big",pa:Jc("Encoded hit length == %s, but should be <= %s.",d.length,this.bb)}):Gd(this.Ab,function(){c.G(kd)},d),c};var Td,Ud=function(a,b){var c=new Pd;return c.add(M.name,a),Oc(b,function(a,b){c.add(a.name,b.toString())}),c.toString()},Vd=function(a,b,c,d){this.Ib=a,this.Eb=b,this.Fb=c,this.n=d};Vd.prototype.ac=function(a){var b=new Tb,b=new pd(Wd(this,b),b);return b.set(Uc,this.Ib),b.set(Pc,1),b.set(Qc,this.Eb),b.set(Rc,this.Fb),b.set(Xc,a),a=window.navigator.language,b.set(Tc,a),a=screen.colorDepth+"-bit",b.set(Vc,a),a=[screen.width,screen.height].join("x"),b.set(Wc,a),a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body,a=new Q(a.clientWidth,a.clientHeight),a=[a.width,a.height].join("x"),b.set(Yc,a),b};var Wd=function(a,b){return new nd(a.n,function(a){if(!Td){new $b;var c=new ed(new Sd("https://www.google-analytics.com/collect",8192)),d=new rd;Td=new ad(a,new sd(a,new ld(d,c)))}return new dd(b,Td)},bd.Lb())};Vd.prototype.Xb=function(){return Ac(this.n.aa)};var Xd=function(a){this.F=a,this.Sa=100,this.Va=[],this.aa=new vc,this.ma=this.xa=null,Yd(this)},Yd=function(a){zc(a.F.get("analytics.tracking-permitted"),function(a){this.ma=void 0!==a?a:!0,this.fb()},a.gb,a),zc($d(a),a.fb,a.gb,a)};Xd.prototype.gb=function(a){this.aa.A(a)},Xd.prototype.fb=function(){null===this.ma||null===this.xa||this.aa.G(this)};var Zd=function(a,b){a.Va.push(b)};Xd.prototype.gc=function(a){yc(this.F.set("analytics.tracking-permitted",a),function(){this.ma=a,v(this.Va,function(a){a("analytics.tracking-permitted")})},this)},Xd.prototype.ab=function(){var a;return(a=this.ma)&&(a=c._gaUserPrefs,a=!(a&&a.ioo&&a.ioo())),a},Xd.prototype.fc=function(a){this.Sa=a};var $d=function(a){var b=new vc;return zc(a.F.get("analytics.user-id"),function(a){if(!a){a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(var c=0,d=a.length;d>c;c++)switch(a[c]){case"x":a[c]=Math.floor(16*Math.random()).toString(16);break;case"y":a[c]=(Math.floor(4*Math.random())+8).toString(16)}a=a.join(""),this.F.set("analytics.user-id",a)}this.xa=a,b.G()},function(a){b.A(a)},a),b},_d=function(a,b){if(!j(a))throw Error("'storage' argument must be defined and not null.");this.F=a,this.Xa=b||""};_d.prototype.get=function(a){var b=new vc,c=this.Xa+"."+a;return this.F.get(c,function(a){var d=chrome.runtime.lastError;d?b.A(d):b.G(a[c])}),b},_d.prototype.set=function(a,b){var c=new vc,d={};return d[this.Xa+"."+a]=b,this.F.set(d,function(){var a=chrome.runtime.lastError;a?c.A(a):c.G()}),c};var ae=new J;p("goog.async.Deferred",vc),p("goog.async.Deferred.prototype.addCallback",vc.prototype.Ub),p("goog.events.EventTarget",Tb),p("goog.events.EventTarget.prototype.listen",Tb.prototype.listen),p("analytics.getService",function(a){var b=ae.get(a,null);if(null===b){var c,b=chrome.runtime.getManifest().version;c=new _d(chrome.storage.local,"google-analytics"),c=new Xd(c),b=new Vd("ca3",a,b,c),ae.set(a,b)}return b}),p("analytics.internal.GoogleAnalyticsService",Vd),p("analytics.internal.GoogleAnalyticsService.prototype.getTracker",Vd.prototype.ac),p("analytics.internal.GoogleAnalyticsService.prototype.getConfig",Vd.prototype.Xb),p("analytics.internal.ServiceSettings",Xd),p("analytics.internal.ServiceSettings.prototype.setTrackingPermitted",Xd.prototype.gc),p("analytics.internal.ServiceSettings.prototype.isTrackingPermitted",Xd.prototype.ab),p("analytics.internal.ServiceSettings.prototype.setSampleRate",Xd.prototype.fc),p("analytics.internal.ServiceTracker",pd),p("analytics.internal.ServiceTracker.prototype.send",pd.prototype.send),p("analytics.internal.ServiceTracker.prototype.sendAppView",pd.prototype.bc),p("analytics.internal.ServiceTracker.prototype.sendEvent",pd.prototype.cc),p("analytics.internal.ServiceTracker.prototype.sendSocial",pd.prototype.ec),p("analytics.internal.ServiceTracker.prototype.sendException",pd.prototype.dc),p("analytics.internal.ServiceTracker.prototype.sendTiming",pd.prototype.hb),p("analytics.internal.ServiceTracker.prototype.startTiming",pd.prototype.hc),p("analytics.internal.ServiceTracker.Timing",qd),p("analytics.internal.ServiceTracker.Timing.prototype.send",qd.prototype.send),p("analytics.internal.ServiceTracker.prototype.forceSessionStart",pd.prototype.Wb),p("analytics.internal.ServiceTracker.prototype.getEventTarget",pd.prototype.Yb),p("analytics.HitTypes.APPVIEW","appview"),p("analytics.HitTypes.EVENT","event"),p("analytics.HitTypes.SOCIAL","social"),p("analytics.HitTypes.TRANSACTION","transaction"),p("analytics.HitTypes.ITEM","item"),p("analytics.HitTypes.TIMING","timing"),p("analytics.HitTypes.EXCEPTION","exception"),p("analytics.Tracker.HitEvent",cd),p("analytics.Tracker.HitEvent.EVENT_TYPE","a"),p("analytics.Tracker.HitEvent.prototype.getHitType",cd.prototype.$b),p("analytics.Tracker.HitEvent.prototype.getHit",cd.prototype.Zb),D(P,function(a){var b=a.id.replace(/[A-Z]/,"_$&").toUpperCase();p("analytics.Parameters."+b,a)})}();var THUMBSIZE=150,SCREEN_CROP_RATIO=1,setTabCount=function(){getTabCount(chromeBadge)},tabCreated=function(a){if(isVerifiedTabUrl(a)){var b={};b[a.id]=a.url,b["screencap-"+a.id]="",b["screencap-url-"+a.id]="",lsSet(b,function(){tabEvent(a.id,"created"),setTabCount()})}},tabUpdated=function(a,b,c){if(isVerifiedTabUrl(c)){var d=c.id;lsGet(d,function(a){if(a&&a.hasOwnProperty(d))"complete"==b.status&&(tabEvent(d,"updated"),screenCap(c));else{var e={};e[c.id]=c.url,e["screencap-"+c.id]="",e["screencap-url-"+c.id]="",lsSet(e,function(){tabEvent(d,"pre-update")})}})}},screenCap=function(a){var b="screencap-url-"+a.id;lsGet(b,function(c){if(!c||!c.hasOwnProperty(b))return!1;var d=c[b];if(a.url==d)return!1;var e={currentWindow:!0,windowId:a.windowId,active:!0,status:"complete"};tabQuery(e,function(b){b.id==a.id&&b.windowId==a.windowId&&d!=b.url&&-1===DISALLOWED_SCREENCAP_URLS.indexOf(b.url)&&memoryCheck(function(){generateScreenCap(b.windowId,{format:"jpeg",quality:1},function(c){if(c){{c.length}processImage(a.id,b.url,c,b.width,b.height,function(){}),c=void 0}})})})})},tabActivated=function(a){var b=a.tabId;lsGet(b,function(a){a&&null!==a&&a.hasOwnProperty(b)&&(tabEvent(b,"activated"),getTab(b,function(a){a&&"undefined"!=typeof a.id&&screenCap(a)}))})},tabRemoved=function(a){getOvertabId(function(b){b.id!=a&&lsRemove(a,function(){tabEvent(a,"removed"),setTabCount()})})},onMessage=function(){},openOverTab=function(a){lsGet("opener",function(b){var c,d=b.opener,e={url:getExtensionUrl()};switch(d){case"window":e.focused=!0,c=chrome.windows.create;break;default:e.active=!0,c=chrome.tabs.create}c(e,function(b){if(b.hasOwnProperty("tabs")&&b.tabs.length>0){var c=b.tabs.getByValueProperty("active",!0);if(!c)return;b=c}tabEvent(a,"opening-overtab")})})},browserActionClick=function(){tabQuery({active:!0},function(a){var b=0;if(a)var b=a.id;getOvertabId(function(a){a?tabFocus(a.id,a.windowId,b):openOverTab(b)})})},getAllTabs=function(){getOvertabId(function(a){var b=null;a&&(b=a.id),tabsQuery({},function(a){for(var c=0;c<a.length;c++){var d=a[c];isVerifiedTabUrl(d)&&d.id!=b&&"complete"===d.status&&tabCreated(d)}})})},tabReplaced=function(a,b){lsGet(b,function(c){c&&c.hasOwnProperty(b)?lsRemove(b,function(){tabReplaceSet(a,b)}):tabReplaceSet(a,b)})},tabReplaceSet=function(a,b){getTab(a,function(c){if(c&&"undefined"!=typeof c.id){var d={};d[a]=c.url,d["screencap-"+a]="",d["screencap-url-"+a]="",lsSet(d,function(){sendMessage(null,{message:"replaced",id:a,oldId:b})})}})},reset=function(){chrome.storage.local.clear();var a=extensionUrl("index.html"),b=new Parser,c=b.href(a).protocol()+"//"+b.href(a).hostname()+"/*",d={url:c};tabsQuery(d,function(a){for(var b=0;b<a.length;b++)closeTab(a[b].id)})},startup=function(){analyticsEvent("startup"),reset(),getAllTabs()},shutdown=function(){reset()},install=function(){analyticsEvent("install"),reset(),getAllTabs()},getTabScreenCount=function(a){tabsQuery({},function(b){for(var c=b.length-1,d=0,e=0;e<b.length;e++){var f=b[e].id;!function(b,e){lsGet("screencap-"+b,function(f){f.hasOwnProperty("screencap-"+b)&&f["screencap-"+b]&&d++,c==e&&a(d)})}(f,e)}})},memoryCheck=function(a){chrome.runtime.getPlatformInfo(function(b){getTabScreenCount(function(c){chrome.system.memory.getInfo(function(d){var e=d.availableCapacity,f=d.capacity;return window.devicePixelRatio>1&&b&&b.hasOwnProperty("os")&&"mac"==b.os&&c>25&&f/1.5>e?void console.log("not doing screencap. avail:"+e+" for: "+f/2):void a()})})})};chrome.runtime.onStartup.addListener(startup),chrome.runtime.onInstalled.addListener(install);var getExtensionUrl=function(){return chrome.extension.getURL("index.html")};chrome.runtime.onMessage.addListener(onMessage);var generateScreenCap=function(a,b,c){chrome.tabs.captureVisibleTab(a,b,c)};chrome.tabs.onCreated.addListener(tabCreated),chrome.tabs.onUpdated.addListener(tabUpdated),chrome.tabs.onActivated.addListener(tabActivated),chrome.tabs.onRemoved.addListener(tabRemoved),chrome.browserAction.onClicked.addListener(browserActionClick),chrome.tabs.onReplaced.addListener(tabReplaced),chrome.runtime.onSuspend.addListener(function(){}),chrome.runtime.onSuspendCanceled.addListener(function(){});var getCurrentTab=function(a){chrome.tabs.getCurrent(a)};chrome.commands.onCommand.addListener(function(a){switch(a){case"open-overtab":browserActionClick()}});